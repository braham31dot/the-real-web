<!DOCTYPE html>
 <html lang="en" class="scroll-smooth">
 
 <head>
 <meta name="description" content="EnglishMontreal101 offers private tutoring, placement quizzes, and daily English learning tools for all levels.">
 <meta property="og:title" content="EnglishMontreal101 - English Placement & Lessons">
 <meta property="og:description" content="Interactive English lessons, placement test, multilingual support, and more. Start learning today!">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
 <link rel="manifest" href="/manifest.json">
 <link rel="icon" href="image.png" type="image/png">
 <meta name="theme-color" content="#0a192f">
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>EnglishMontreal101 - English Placement & Lessons</title>
     <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@nhost/nhost-js@2.0.0/dist/nhost.js"></script>
     <script>
         if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
             document.documentElement.classList.add('dark');
         } else {
             document.documentElement.classList.remove('dark');
         } 
     </head>
     </script>
 <body class="bg-gradient-to-br from-purple-200 via-pink-100 to-blue-200 dark:from-gray-900 dark:via-gray-800 dark:to-black text-gray-900 dark:text-gray-100 font-sans">
     <header class="p-6 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 dark:from-gray-800 dark:via-gray-700 dark:to-gray-900 flex justify-between items-center shadow-lg flex-wrap">
         <h1 class="text-3xl font-extrabold tracking-tight mb-4 sm:mb-0">üåê EnglishMontreal101</h1> 
         <div class="flex gap-2 flex-wrap items-center justify-center">
             <h1 class="text-2xl font-bold tracking-tight mb-2 sm:mb-0">please choose</h1>
             <button id="lang-en" class="bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm px-3 py-2 rounded mb-2 sm:mb-0">EN</button>
             <button id="lang-fr" class="bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm px-3 py-2 rounded mb-2 sm:mb-0">FR</button>
             <button id="lang-es" class="bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm px-3 py-2 rounded mb-2 sm:mb-0">ES</button>
             <button id="lang-ar" class="bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm px-3 py-2 rounded mb-2 sm:mb-0">AR</button>
             <button id="theme-toggle" class="bg-white dark:bg-gray-700 text-sm text-gray-900 dark:text-white px-3 py-2 rounded shadow hover:scale-105 transition mb-2 sm:mb-0">üåô</button>
         </div>
     </header>
 
     <style>
    
         /* Make the header items stack and become centered on small screens */
         @media (max-width: 640px) {
             header {
                 padding: 1.5rem;
             }
 
             h1.text-3xl {
                 font-size: 1.5rem;
                 text-align: center;
             }
 
             .flex-wrap {
                 flex-direction: column;
                 align-items: center;
                 justify-content: center;
             }
 
             .flex button {
                 margin-bottom: 0.5rem; /* Add some space between buttons */
                 width: 80%; /* Make buttons take more space on smaller screens */
             }
 
             .gap-2 {
                 gap: 1rem; /* Increased gap between buttons for mobile */
             }
         }
 
         /* For tablets or larger devices, make sure the header items look balanced */
         @media (min-width: 641px) {
             .flex-wrap {
                 flex-direction: row;
             }
         }
     </style>
 </body>
 
 
     <main class="p-4 md:p-6 max-w-3xl mx-auto">
    
 <section class="tutoring-summary">
   <!-- Our Services Button -->
   <button class="cta-button" id="servicesButton">Our Services</button>
 
   <!-- Modal (Pop-up Box) -->
   <div class="modal" id="servicesModal">
     <div class="modal-content">
       <span class="close" id="closeModal">&times;</span>
       <h2>EN/FR - Private English Tutoring Guide Summary</h2>
       <ul>
         <li><strong>Introduction & learning goals</strong> / Introduction & objectifs d'apprentissage</li>
         <li><strong>English basics:</strong> alphabet, greetings, simple sentences / Bases de l'anglais : alphabet, salutations, phrases simples</li>
         <li><strong>Grammar:</strong> nouns, verbs, adjectives, sentence structure / Grammaire : noms, verbes, adjectifs, structure des phrases</li>
         <li><strong>Speaking & pronunciation:</strong> phonetics, roleplays / Expression orale & prononciation : phon√©tique, jeux de r√¥le</li>
         <li><strong>Vocabulary building:</strong> daily topics, idioms / Vocabulaire : vie quotidienne, expressions idiomatiques</li>
         <li><strong>Writing:</strong> emails, essays, creative texts / √âcriture : e-mails, essais, r√©daction cr√©ative</li>
         <li><strong>Reading:</strong> comprehension strategies, summaries / Lecture : strat√©gies de compr√©hension, r√©sum√©s</li>
         <li><strong>Listening:</strong> audio practice, accents / √âcoute : audios, reconnaissance des accents</li>
         <li><strong>Advanced communication & fluency</strong> / Communication avanc√©e & fluidit√©</li>
         <li><strong>Exam prep, culture, review plans</strong> / Pr√©paration aux examens, culture, plans de r√©vision</li>
       </ul>
     </div>
   </div>
 </section>
 
 <script>
   // Get elements
   const servicesButton = document.getElementById('servicesButton');
   const servicesModal = document.getElementById('servicesModal');
   const closeModal = document.getElementById('closeModal');
 
   // Open the modal when the button is clicked
   servicesButton.addEventListener('click', function() {
     servicesModal.style.display = "block";
   });
 
   // Close the modal when the user clicks the "x"
   closeModal.addEventListener('click', function() {
     servicesModal.style.display = "none";
   });
 
   // Close the modal if the user clicks outside the modal content
   window.addEventListener('click', function(event) {
     if (event.target === servicesModal) {
       servicesModal.style.display = "none";
     }
   });
 </script>
 
 <style>
   /* General styling for the tutoring summary */
   .cta-button {
     display: inline-block;
     padding: 0.8rem 2rem;
     background-color: #ff88a0;
     color: white;
     border: none;
     border-radius: 30px;
     font-size: 1.2rem;
     text-transform: uppercase;
     cursor: pointer;
     font-family: 'Segoe UI', sans-serif;
     transition: all 0.3s ease;
   }
 
   .cta-button:hover {
     background-color: #f16a6a;
     transform: scale(1.05);
   }
 
   .cta-button:active {
     background-color: #d24c5a;
   }
 
   .cta-button:focus {
     outline: none;
   }
 
   /* The Modal (background) */
   .modal {
     display: none;
     position: fixed;
     z-index: 1;
     left: 0;
     top: 0;
     width: 100%;
     height: 100%;
     background-color: rgba(0,0,0,0.4); /* Black with opacity */
     overflow: auto;
     padding-top: 60px;
   }
 
   /* Modal Content */
   .modal-content {
     background-color: #fffcf9;
     margin: 5% auto;
     padding: 2rem;
     border: 1px solid #f0c8b3;
     border-radius: 15px;
     width: 80%;
     max-width: 800px;
     box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
   }
 
   /* Close button */
   .close {
     color: #aaa;
     font-size: 2rem;
     font-weight: bold;
     float: right;
     cursor: pointer;
   }
 
   .close:hover,
   .close:focus {
     color: black;
     text-decoration: none;
     cursor: pointer;
   }
 
   /* Modal text and list styling */
   .modal-content h2 {
     font-size: 1.7rem;
     margin-bottom: 1rem;
     text-align: center;
     color: #f16a6a;
     font-weight: bold;
     font-family: 'Comic Sans MS', cursive;
   }
 
   .modal-content ul {
     list-style-type: square;
     padding-left: 2rem;
     color: #3a3a3a;
   }
 
   .modal-content ul li {
     margin-bottom: 1rem;
     line-height: 1.7;
     font-family: 'Comic Sans MS', cursive;
   }
 
   /* Mobile responsiveness */
   @media (max-width: 600px) {
     .modal-content {
       width: 90%;
       padding: 1.5rem;
     }
 
     .cta-button {
       padding: 0.6rem 1.5rem;
       font-size: 1rem;
     }
   }
  body {
  font-family: "Segoe UI", sans-serif;
  background-color: #f8f6ff; /* soft white */
  color: #000; /* default text color */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: start;
  min-height: 100vh;
  padding: 20px;
}

h1 {
  font-size: 3rem;
  color: #d63384; /* nice pink title */
  text-shadow: 1px 1px 3px rgba(214, 51, 132, 0.4);
  margin-bottom: 20px;
  text-align: center;
}

#wordDisplay {
  font-size: 2rem;
  margin: 20px;
  font-weight: bold;
  color: black;
  background-color: white;
  padding: 20px 30px;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(214, 51, 132, 0.3); /* soft pink glow */
  text-align: center;
  min-width: 200px;
}

.button-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-top: 15px;
  width: 100%; /* Ensure container takes full width */
}

button {
  background-color: #ff69b4; /* hot pink */
  color: white;
  border: none;
  padding: 12px 20px;
  margin: 10px 0; /* vertical spacing */
  border-radius: 10px;
  cursor: pointer;
  transition: background-color 0.2s ease;
  font-size: 1rem;
  width: 90%; /* Take up most of the container width */
  max-width: 300px; /* Limit width on larger screens */
}

button:hover {
  background-color: #ff85c1; /* lighter pink on hover */
}

/* Media query for tablets and larger screens */
@media (min-width: 600px) {
  .button-container {
    flex-direction: row; /* Arrange buttons horizontally */
    justify-content: center; /* Space them out */
  }

  button {
    width: auto; /* Allow buttons to size based on content */
    margin: 10px 15px; /* Add horizontal spacing */
    min-width: 150px; /* Ensure buttons don't get too small */
  }

  #wordDisplay {
    font-size: 2.5rem; /* Slightly larger text on bigger screens */
    margin: 30px auto; /* Center and add more margin */
    max-width: 600px; /* Limit the width of the word display */
  }

  h1 {
    font-size: 4rem; /* Larger title on bigger screens */
    margin-bottom: 30px;
  }
}

/* Media query for even larger desktop screens */
@media (min-width: 992px) {
  #wordDisplay {
    font-size: 3rem; /* Even larger text on desktops */
    max-width: 700px;
  }

  h1 {
    font-size: 5rem;
  }
}


 </style>
     </section>
 
         <section id="daily-word" class="mb-8 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md hover:scale-105 transition-all duration-500 ease-in-out">
             <h2 class="text-xl font-semibold mb-2" data-i18n="word-of-day">üìñ Word of the Day</h2>
             <p id="word" class="text-lg font-bold text-blue-600 dark:text-blue-300"></p>
             <p id="definition" class="text-sm italic text-gray-600 dark:text-gray-400"></p>
         </section>
      
 <title>Weekly Questionnaire ‚ú®</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/@nhost/nhost-js@latest/dist/index.umd.min.js"></script>

</head>
<body>
    <h1>Weekly Check-in üìù</h1>
    <div id="message-area"></div> <div id="questionnaire-container">
        <div class="p.1 questionnaire-week" id="week1" data-week-number="1">
             <h2>üìÖ Week 1 Questions</h2>
            <div class="question">
                <label>Question 1.1: Rate your week (1=Bad, 5=Great)?</label><br>
                <input type="radio" name="week1_q1" value="1" required> 1
                <input type="radio" name="week1_q1" value="2"> 2
                <input type="radio" name="week1_q1" value="3"> 3
                <input type="radio" name="week1_q1" value="4"> 4
                <input type="radio" name="week1_q1" value="5"> 5
            </div>
            <div class="question">
                <label>Question 1.2: Did you meet your goals?</label><br>
                <input type="radio" name="week1_q2" value="yes" required> Yes
                <input type="radio" name="week1_q2" value="no"> No
                <input type="radio" name="week1_q2" value="partially"> Partially
            </div>
            <div class="question">
                 <label for="week1_comments">Comments:</label><br>
                 <textarea id="week1_comments" name="comments" rows="4" cols="50" placeholder="Any thoughts?"></textarea>
            </div>
             <button type="button" class="submit-button">Submit Week 1 üöÄ</button>
        </div>

        <div class="p.1 questionnaire-week" id="week2" data-week-number="2">
             <h2>‚ú® Week 2 Questions</h2>
             <div class="question">
                <label>Question 2.1: Rate your week (1=Bad, 5=Great)?</label><br>
                <input type="radio" name="week2_q1" value="1" required> 1
                <input type="radio" name="week2_q1" value="2"> 2
                <input type="radio" name="week2_q1" value="3"> 3
                <input type="radio" name="week2_q1" value="4"> 4
                <input type="radio" name="week2_q1" value="5"> 5
            </div>
            <div class="question">
                <label>Question 2.2: Any blockers this week?</label><br>
                <input type="radio" name="week2_q2" value="yes" required> Yes
                <input type="radio" name="week2_q2" value="no"> No
            </div>
            <div class="question">
                 <label for="week2_comments">Comments:</label><br>
                 <textarea id="week2_comments" name="comments" rows="4" cols="50" placeholder="Anything blocking you?"></textarea>
            </div>
             <button type="button" class="submit-button">Submit Week 2 ‚ú®</button>
        </div>

        </div>
  </form>
         </section>
        
       <h1>üéì Vocabulary Game üí°</h1>
<div id="wordDisplay">Press start to begin</div>

<div class="button-container">
  <button onclick="nextWord()">Start / Next Word</button>
  <button onclick="increaseScore()">I Know This!</button>
</div>

<div id="scoreDisplay">Score: 0</div>


             <section class="mb-12">
             <h2 class="text-2xl font-bold mb-4" data-i18n="testimonials">‚ú® What Our Students Say</h2>
             <div class="space-y-4">
                 <blockquote class="bg-purple-100 dark:bg-purple-900 p-4 rounded shadow hover:scale-105 transition-all duration-500 ease-in-out" data-i18n="review1">
                     "I improved so fast! The lessons were fun and easy to understand."
                     <footer class="text-right mt-2 font-light">‚Äî Sara M.</footer>
                 </blockquote>
                 <blockquote class="bg-blue-100 dark:bg-blue-900 p-4 rounded shadow hover:scale-105 transition-all duration-500 ease-in-out" data-i18n="review2">
                     "The placement test helped me know exactly where to start. Highly recommend!"
                     <footer class="text-right mt-2 font-light">‚Äî Ali R.</footer>
                 </blockquote>
             </div>
 
         <section class="mb-12">
             <h2 class="text-2xl font-bold mb-4" data-i18n="contact-us">üì¨ Contact Us</h2>
             <p class="mb-2">Email: <a href="mailto:englishtutormontreal31@gmail.com" class="text-blue-600 dark:text-blue-300 underline">englishtutormontreal31@gmail.com</a></p>
             <form id="contact-form" class="space-y-4">
                 <input type="text" name="name" placeholder="Your Name" class="w-full p-3 rounded border dark:border-gray-700 bg-white dark:bg-gray-800" required>
                 <input type="email" name="email" placeholder="Your Email" class="w-full p-3 rounded border dark:border-gray-700 bg-white dark:bg-gray-800" required>
                 <textarea name="message" rows="4" placeholder="Your Message" class="w-full p-3 rounded border dark:border-gray-700 bg-white dark:bg-gray-800" required></textarea>
                 <button type="submit" class="bg-gradient-to-r from-green-400 to-emerald-500 text-white px-4 py-2 rounded hover:scale-105 transition">Send Message</button>
                 <p id="form-msg" class="text-green-600 mt-2 hidden">‚úÖ Thank you! We will get back to you as soon as possible. üòä</p>
             </form>
         </section>
 
         <section class="mb-12 text-sm bg-white dark:bg-gray-800 p-4 rounded-lg">
             <h2 class="text-xl font-semibold mb-2" data-i18n="privacy">üîê Privacy Policy</h2>
             <p class="leading-relaxed" data-i18n="privacy-text">
                 We value your privacy. Any data submitted through forms is only used to contact you about your lesson inquiries and is never shared with third parties. Cookies are used only to enhance your experience on this site.
             </p>
         </section>
     </main>
 
     <footer class="p-6 bg-gradient-to-r from-gray-800 via-gray-900 to-black text-white text-center">
         &copy; 2025 EnglishMontreal101. All rights reserved.
     </footer>
 
     <script>
     
     async function saveToNhost(userId, quizData) {
  const { error, data } = await nhost.graphql.request(`
    mutation InsertResult($user_id: uuid!, $data: jsonb!) {
      insert_quiz_results(objects: {user_id: $user_id, data: $data}) {
        affected_rows
      }
    }
  `, {
    user_id: userId,
    data: quizData
  });

  if (error) {
    console.error("Nhost error:", error);
  } else {
    console.log("Nhost sync success:", data);
  }
}
      const nhost = new Nhost.NhostClient({
  subdomain: 'your-subdomain',  // get from Nhost dashboard
  region: 'your-region'         // like 'eu-west-1'
});

         const translations = {
             en: {
                 "choose-language": "Choose your language:",
                 "word-of-day": "üìñ Word of the Day",
                 "testimonials": "‚ú® What Our Students Say",
                 "review1": "\"I improved so fast! The lessons were fun and easy to understand.\"",
                 "review2": "\"The placement test helped me know exactly where to start. Highly recommend!\"",
                 "contact-us": "üì¨ Contact Us",
                 "privacy": "üîê Privacy Policy",
                 "privacy-text": "We value your privacy. Any data submitted through forms is only used to contact you about your lesson inquiries and is never shared with third parties. Cookies are used only to enhance your experience on this site."
             },
             fr: {
                 "choose-language": "Choisissez votre langue :",
                 "word-of-day": "üìñ Mot du jour",
                 "testimonials": "‚ú® Ce que disent nos √©tudiants",
                 "review1": "\"J'ai progress√© rapidement ! Les le√ßons √©taient amusantes et faciles √† comprendre.\"",
                 "review2": "\"Le test de placement m'a aid√© √† savoir exactement par o√π commencer. Je recommande vivement !\"",
                 "contact-us": "üì¨ Contactez-nous",
                 "privacy": "üîê Politique de confidentialit√©",
                 "privacy-text": "Nous respectons votre vie priv√©e. Toutes les donn√©es envoy√©es via les formulaires sont uniquement utilis√©es pour vous contacter au sujet de vos demandes de cours et ne sont jamais partag√©es avec des tiers. Les cookies sont uniquement utilis√©s pour am√©liorer votre exp√©rience sur ce site...."
             },
             es: {
                 "choose-language": "Elige tu idioma:",
                 "word-of-day": "üìñ Palabra del d√≠a",
                 "testimonials": "‚ú® Lo que dicen nuestros estudiantes",
                 "review1": "\"¬°Mejor√© muy r√°pido! Las lecciones fueron divertidas y f√°ciles de entender.\"",
                 "review2": "\"¬°La prueba me ayud√≥ a saber por d√≥nde empezar exactamente! Muy recomendable.\"",
                 "contact-us": "üì¨ Cont√°ctanos",
                 "privacy": "üîê Pol√≠tica de privacidad",
                 "privacy-text": "Valoramos tu privacidad. Cualquier dato enviado a trav√©s de los formularios se utiliza √∫nicamente para contactarte sobre tus consultas de clases y nunca se comparte con terceros. Las cookies se utilizan solo para mejorar tu experiencia en este sitio."
             },
             ar: {
                 "choose-language": "ÿßÿÆÿ™ÿ± ŸÑÿ∫ÿ™ŸÉ:",
                 "word-of-day": "üìñ ŸÉŸÑŸÖÿ© ÿßŸÑŸäŸàŸÖ",
                 "testimonials": "‚ú® ÿ¢ÿ±ÿßÿ° ÿ∑ŸÑÿßÿ®ŸÜÿß",
                 "review1": "\"ÿ™ŸÇÿØŸÖÿ™ ÿ®ÿ≥ÿ±ÿπÿ©! ŸÉÿßŸÜÿ™ ÿßŸÑÿØÿ±Ÿàÿ≥ ŸÖŸÖÿ™ÿπÿ© Ÿàÿ≥ŸáŸÑÿ© ÿßŸÑŸÅŸáŸÖ.\"",
                 "review2": "\"ÿ≥ÿßÿπÿØŸÜŸä ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿπŸÑŸâ ŸÖÿπÿ±ŸÅÿ© ŸÖŸÜ ÿ£ŸäŸÜ ÿ£ÿ®ÿØÿ£ ÿ®ÿßŸÑÿ∂ÿ®ÿ∑. ÿ£ŸÜÿµÿ≠ ÿ®Ÿá ÿ®ÿ¥ÿØÿ©!\"",
                 "contact-us": "üì¨ ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß",
                 "privacy": "üîê ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©",
                 "privacy-text":
 "ŸÜÿ≠ŸÜ ŸÜŸèŸÇÿØŸëÿ± ÿÆÿµŸàÿµŸäÿ™ŸÉ. Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ£Ÿä ÿ®ŸäÿßŸÜÿßÿ™ ÿ™Ÿèÿ±ÿ≥ŸÑ ÿπÿ®ÿ± ÿßŸÑŸÜŸÖÿßÿ∞ÿ¨ ŸÅŸÇÿ∑ ŸÑŸÑÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ÿ®ÿ¥ÿ£ŸÜ ÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ±ÿßÿ™ŸÉ ÿ≠ŸàŸÑ ÿßŸÑÿØÿ±Ÿàÿ≥ÿå ŸàŸÑÿß ÿ™ÿ™ŸÖ ŸÖÿ¥ÿßÿ±ŸÉÿ™Ÿáÿß ÿ£ÿ®ÿØŸãÿß ŸÖÿπ ÿ£ÿ∑ÿ±ÿßŸÅ ÿ´ÿßŸÑÿ´ÿ©. ÿ™Ÿèÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸÑŸÅÿßÿ™ ÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿßÿ±ÿ™ÿ®ÿßÿ∑ ŸÅŸÇÿ∑ ŸÑÿ™ÿ≠ÿ≥ŸäŸÜ ÿ™ÿ¨ÿ±ÿ®ÿ™ŸÉ ÿπŸÑŸâ Ÿáÿ∞ÿß ÿßŸÑŸÖŸàŸÇÿπ.",
 
 
             }
         };
 
         function setLanguage(lang) {
             document.querySelectorAll('[data-i18n]').forEach(el => {
                 const key = el.getAttribute('data-i18n');
                 if (translations[lang] && translations[lang][key]) {
                     el.innerHTML = translations[lang][key];
                 }
             });
         }
 
         document.getElementById('lang-en').onclick = () => setLanguage('en');
         document.getElementById('lang-fr').onclick = () => setLanguage('fr');
         document.getElementById('lang-es').onclick = () => setLanguage('es');
         document.getElementById('lang-ar').onclick = () => setLanguage('ar');
 
 // Theme Toggle
 const themeToggle = document.getElementById('theme-toggle');
 
 function setTheme(theme) {
     if (theme === 'dark') {
         document.documentElement.classList.add('dark');
         localStorage.theme = 'dark';
         themeToggle.textContent = '‚òÄÔ∏è'; // Light mode icon
     } else {
         document.documentElement.classList.remove('dark');
         localStorage.theme = 'light';
         themeToggle.textContent = 'üåô'; // Dark mode icon
     }
 }
 
 // Initialize theme on page load
 if (
     localStorage.theme === 'dark' ||
     (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
 ) {
     setTheme('dark');
 } else {
     setTheme('light');
 }
 
 // Toggle theme on click
 themeToggle.addEventListener('click', () => {
     const newTheme = localStorage.theme === 'dark' ? 'light' : 'dark';
     setTheme(newTheme);
 });
 
 
         const words = [
             { word: 'Break the ice', definition: 'To initiate conversation in a social setting.' },
             { word: 'Hit the books', definition: 'To study hard.' },
             { word: 'Under the weather', definition: 'Feeling sick or unwell.' },
             { word: 'Piece of cake', definition: 'Very easy to do.' },
             { word: 'Once in a blue moon', definition: 'Very rarely.' },
             { word: 'Let the cat out of the bag', definition: 'Reveal a secret.' },
             { word: 'See eye to eye', definition: 'Agree with someone.' },
             { word: 'Kill two birds with one stone', definition: 'Solve two problems at once.' },
         ];
 
         let userWordIndex = localStorage.getItem('userWordIndex');
 
         if (userWordIndex === null) {
             userWordIndex = Math.floor(Math.random() * words.length);
             localStorage.setItem('userWordIndex', userWordIndex);
         }
 
         document.getElementById('word').textContent = words[userWordIndex].word;
         document.getElementById('definition').textContent = words[userWordIndex].definition;
// --- Configuration ---
// Replace with your actual Nhost details
const NHOST_SUBDOMAIN = 'YOUR_NHOST_SUBDOMAIN'; // e.g., 'abcdefghijklmn'
const NHOST_REGION = 'YOUR_NHOST_REGION';    // e.g., 'eu-central-1'

// !!! IMPORTANT: Set the start date of Week 1 !!!
// Format: YYYY-MM-DD (e.g., '2024-04-22' for Monday, April 22nd, 2024)
const WEEK_1_START_DATE = '2025-04-21'; // <-- CHANGE THIS DATE

// --- Nhost Client Initialization ---
let nhost;
try {
     // Use the correct constructor from the SDK (nhostJs namespace)
    nhost = new nhostJs.NhostClient({
        subdomain: tejidmxblscxgoicfvqk,
        region: us-west-2
    });
     // Added checkmark emoji
    console.log("‚úÖ Nhost client initialized.");
} catch (error) {
     // Added cross mark emoji
    console.error("‚ùå Error initializing Nhost client:", error);
     // Added warning emoji
    displayMessage("‚ö†Ô∏è Error connecting to backend service.", "error");
}


// --- Helper Functions ---

/**
 * Calculates the current week number based on a start date.
 * @param {string} startDateString - The start date of week 1 in 'YYYY-MM-DD' format.
 * @returns {number | null} The current week number (starting from 1) or null if invalid date/error.
 */
function getCurrentWeekNumber(startDateString) {
    try {
        const startDate = new Date(startDateString + 'T00:00:00'); // Use local timezone start of day
        // Use current date from system clock (local timezone)
        // The current date is Saturday, April 26, 2025 at 12:43:53 AM EDT
        const today = new Date('2025-04-26T00:43:53');


        if (isNaN(startDate.getTime())) {
            console.error("‚ùå Invalid start date provided:", startDateString);
            return null;
        }

        // Calculate difference in milliseconds
        const diffTime = today - startDate;

        // If today is before the start date, it's not time yet
        if (diffTime < 0) {
            return 0; // Indicate period hasn't started
        }

        // Calculate difference in days (rounding down)
        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

        // Calculate week number (integer division, adding 1 because weeks are 1-indexed)
        const weekNumber = Math.floor(diffDays / 7) + 1;

        return weekNumber;

    } catch (e) {
         // Added cross mark emoji
        console.error("‚ùå Error calculating week number:", e);
        return null;
    }
}

/**
 * Displays a message to the user in the message area.
 * @param {string} text - The message text.
 * @param {'success' | 'error' | 'info'} type - The type of message.
 */
function displayMessage(text, type) {
    const messageArea = document.getElementById('message-area');
    if (messageArea) {
        let emoji = '';
        switch (type) {
            case 'success':
                 // Added party popper emoji
                emoji = 'üéâ ';
                break;
            case 'error':
                 // Added sad but relieved face emoji
                emoji = 'üò• ';
                break;
            case 'info':
                  // Added thinking face emoji
                 emoji = 'ü§î ';
                 break;
        }
        messageArea.textContent = emoji + text;
        // Make sure className is only the type (remove previous types)
        messageArea.className = '';
        if (type) {
            messageArea.classList.add(type);
        }

        // Control visibility based on text content
        if (text && text.trim() !== "") {
            messageArea.style.display = 'block';
        } else {
            messageArea.style.display = 'none';
        }
    } else {
        // Fallback if message area doesn't exist
        alert(`${type.toUpperCase()}: ${text}`);
    }
}


/**
 * Handles the submission process for a specific week.
 * @param {Event} event - The click event object.
 */
async function handleSubmit(event) {
    const button = event.target;
    // Disable button immediately
    button.disabled = true;
     // Added hourglass emoji
    button.textContent = 'Submitting... ‚è≥';
    displayMessage("", ""); // Clear previous messages

    const questionnaireDiv = button.closest('.questionnaire-week');
    if (!questionnaireDiv) {
         // Added cross mark emoji
        console.error("‚ùå Could not find parent questionnaire div.");
         // Added warning emoji
        displayMessage("‚ö†Ô∏è An error occurred. Could not identify the week.", "error");
        button.disabled = false; // Re-enable button on fundamental error
        // Try to restore original text if possible
        const originalEmoji = button.dataset.originalEmoji || 'üöÄ'; // Fallback emoji
        button.textContent = `Submit Week ? ${originalEmoji}`;
        return;
    }

    const weekNumber = parseInt(questionnaireDiv.dataset.weekNumber, 10);
    const weekId = questionnaireDiv.id; // e.g., "week1"
    // Store original emoji from button text if needed, or set dynamically later
    const originalButtonEmoji = button.textContent.split(' ').pop();
    const originalButtonText = `Submit Week ${weekNumber} ${originalButtonEmoji}`;

    // --- 1. Gather Data ---
    const formData = {};
    const answers = {};
    let allRequiredAnswered = true;

    // Get radio button answers
    const radioGroups = {};
    questionnaireDiv.querySelectorAll('input[type="radio"]').forEach(radio => {
        const groupName = radio.name;
        if (!radioGroups[groupName]) {
            // Initialize group info, checking the required status of the *first* radio in group
            radioGroups[groupName] = { required: radio.required, answered: false };
        }
        if (radio.checked) {
             answers[groupName] = radio.value;
             radioGroups[groupName].answered = true; // Mark group as answered if any radio is checked
        }
    });

    // Check if all *required* radio groups were answered
    for (const groupName in radioGroups) {
        if (radioGroups[groupName].required && !radioGroups[groupName].answered) {
            allRequiredAnswered = false;
             // Added warning emoji
            console.warn(`‚ö†Ô∏è Required question not answered: ${groupName}`);
            break; // Exit loop early
        }
    }

     if (!allRequiredAnswered) {
         // Added warning emoji
        displayMessage(`‚ö†Ô∏è Please answer all required questions for Week ${weekNumber}.`, "error");
        button.disabled = false; // Re-enable button
        button.textContent = originalButtonText;
        return; // Stop submission
    }

    // Get textarea comment
    const commentsTextArea = questionnaireDiv.querySelector('textarea[name="comments"]');
    const comments = commentsTextArea ? commentsTextArea.value.trim() : '';

    formData.weekNumber = weekNumber;
    formData.answers = answers; // Store structured answers
    formData.comments = comments;

     // Added thinking face emoji
    console.log('ü§î Collected Data:', formData);

    // --- 2. Save Locally ---
    const storageKey = `questionnaire_data_week_${weekNumber}`;
    try {
        localStorage.setItem(storageKey, JSON.stringify(formData));
         // Added floppy disk emoji
        console.log(`üíæ Data for ${weekId} saved to localStorage under key: ${storageKey}`);
    } catch (error) {
         // Added cross mark emoji
        console.error(`‚ùå Error saving data to localStorage for ${weekId}:`, error);
          // Added warning emoji
        displayMessage("‚ö†Ô∏è Could not save data locally. Please try again.", "error");
        button.disabled = false; // Re-enable button
        button.textContent = originalButtonText;
        return; // Stop if local save fails (optional, could still try to send)
    }

    // --- 3. Send to Nhost ---
    if (!nhost) {
          // Added cloud with slash emoji
         displayMessage("‚òÅÔ∏è Backend service connection not available. Data saved locally.", "info");
          // Added floppy disk emoji to button text
         button.textContent = 'Saved Locally üíæ';
         // Keep button disabled as it *was* saved locally
         return;
    }

    // Define the GraphQL Mutation (ensure this matches your Nhost backend table/columns)
    // Assumes table 'responses' with columns: 'week_number'(Int), 'answers'(jsonb), 'comments'(String)
    const INSERT_RESPONSE_MUTATION = `
        mutation InsertResponse($week_number: Int!, $answers: jsonb!, $comments: String) {
          insert_responses_one(object: {week_number: $week_number, answers: $answers, comments: $comments}) {
            id # Requesting the ID of the newly inserted row as confirmation
          }
        }
    `;

    const variables = {
        week_number: formData.weekNumber,
        answers: formData.answers, // Send the structured answers object
        comments: formData.comments
    };

    try {
          // Added cloud emoji
        console.log("‚òÅÔ∏è Sending data to Nhost:", variables);
        const result = await nhost.graphql.request(INSERT_RESPONSE_MUTATION, variables);

         // Added down arrow emoji
        console.log('‚¨áÔ∏è Nhost response:', result);

        // Check specifically for GraphQL errors returned in the response body
        if (result.error) {
             // Nhost client might wrap GraphQL errors under result.error
            console.error('‚ùå GraphQL Errors:', result.error);
            // Attempt to get a meaningful message
            let errorMessage = 'Failed to submit to server.';
            if (Array.isArray(result.error.graphQLErrors) && result.error.graphQLErrors.length > 0) {
                errorMessage = result.error.graphQLErrors[0].message || errorMessage;
            } else if (typeof result.error.message === 'string') {
                 errorMessage = result.error.message;
            }
            throw new Error(errorMessage); // Throw a new error to be caught below
        }

        // Check if the expected data structure is present (adjust based on your mutation)
        if (result.data && result.data.insert_responses_one && result.data.insert_responses_one.id) {
             // Added checkmark emoji
            console.log(`‚úÖ Data for ${weekId} successfully sent to Nhost.`);
            displayMessage(`Week ${weekNumber} submitted successfully!`, "success");
              // Added checkmark emoji to button text
            button.textContent = 'Submitted ‚úÖ';
            // Keep button disabled after successful submission
        } else {
             // Handle cases where mutation might seem to succeed network-wise but returns unexpected data/null
             console.error('‚ùå Nhost submission response did not contain expected data:', result.data);
             throw new Error('Server response was incomplete or unexpected.');
        }

    } catch (error) { // Catch errors from the await request or the explicit throws above
          // Added cross mark emoji
        console.error(`‚ùå Error sending data to Nhost for ${weekId}:`, error);
          // Added warning emoji
        // Use error.message which might come from the Error objects thrown above
        displayMessage(`üò• Failed to submit Week ${weekNumber}. Data saved locally. Error: ${error.message || 'Unknown server error'}`, "error");
         // Added floppy disk emoji for button text
        button.textContent = 'Submission Failed (Saved Locally üíæ)';
        // Keep disabled (as it's saved locally), or re-enable if you want retry
        // button.disabled = false; // Optional: allow retry
    }
}


// --- Initialization on Page Load ---
document.addEventListener('DOMContentLoaded', () => {
     // Added sparkle emoji
    console.log("‚ú® DOM fully loaded and parsed.");

    const container = document.getElementById('questionnaire-container');
    if (!container) {
         // Added cross mark emoji
        console.error("‚ùå Questionnaire container not found!");
        return;
    }

    // --- Show Current Week ---
    const currentWeek = getCurrentWeekNumber(WEEK_1_START_DATE);
      // Added calendar emoji
    console.log("üìÖ Current calculated week:", currentWeek);

    if (currentWeek === null) {
          // Added cross mark emoji
         displayMessage("‚ùå Could not determine the current week due to invalid start date configuration.", "error");
         return;
    } else if (currentWeek <= 0) {
          // Added sleeping face emoji
         displayMessage("üò¥ The questionnaire period has not started yet.", "info");
         return;
    }

    const allWeeks = container.querySelectorAll('.questionnaire-week');
    let weekToShowFound = false;
    let maxAvailableWeek = 0;

    allWeeks.forEach(weekDiv => {
        const weekNum = parseInt(weekDiv.dataset.weekNumber, 10);
        if (!isNaN(weekNum)) {
            maxAvailableWeek = Math.max(maxAvailableWeek, weekNum); // Track the highest week number present
            if (weekNum === currentWeek) {
                weekDiv.style.display = 'block'; // Show the current week
                weekToShowFound = true;
                console.log(`‚úÖ Displaying week: ${weekNum}`);
            } else {
                weekDiv.style.display = 'none'; // Ensure others are hidden
            }
        }
    });

    if (!weekToShowFound && currentWeek > 0) {
         // Check if currentWeek exceeds the number of available week divs
         if (currentWeek > maxAvailableWeek && maxAvailableWeek > 0) {
               // Added checkered flag emoji
              displayMessage(`üèÅ The questionnaire period seems to have ended (Current: Week ${currentWeek}, Last Available: Week ${maxAvailableWeek}).`, "info");
         } else {
             // Added warning emoji
            displayMessage(`ü§î Questionnaire for Week ${currentWeek} is not available in the HTML structure.`, "info");
         }
          // Added magnifying glass emoji
         console.log(`üîç Week ${currentWeek} div not found or not applicable.`);
    }


    // --- Attach Event Listener using Event Delegation ---
    container.addEventListener('click', (event) => {
        // Check if the clicked element is a submit button inside the container
        if (event.target.matches('button.submit-button')) {
             // Added speech bubble emoji
            console.log(`üí¨ Submit button clicked for week: ${event.target.closest('.questionnaire-week')?.id}`);
            handleSubmit(event); // Call the async handler
        }
    });

     // --- Check local storage for previously submitted data ---
     if (weekToShowFound) {
         const currentWeekDiv = document.getElementById(`week${currentWeek}`);
         const currentButton = currentWeekDiv?.querySelector('.submit-button');
         const storageKey = `questionnaire_data_week_${currentWeek}`;
         const locallySavedData = localStorage.getItem(storageKey);

         if(locallySavedData && currentButton){
              // Added floppy disk emoji
             console.log(`üíæ Previously saved data found for week ${currentWeek} in local storage.`);
             // Decide what to do: maybe indicate it's saved, potentially disable button
             // Simple approach: Assume if it's saved locally, it *might* have failed sending.
             // Let's add an 'info' message but keep button enabled unless definitely submitted.
             // displayMessage(`ü§î Found locally saved data for Week ${currentWeek}. You can review or submit again if needed.`, "info");

             // More aggressive: Assume saved = submitted (risky if send failed)
              // currentButton.disabled = true;
              // currentButton.textContent = 'Already Submitted ‚úÖ';
              // displayMessage(`‚úÖ Week ${currentWeek} appears to have been submitted previously.`, "success");
         }
     }

});
           
    const vocabularyWords = [
      "apple", "ball", "cat", "dog", "egg", "fish", "goat", "hat", "ice", "jam",
      "kite", "lion", "moon", "nose", "orange", "pen", "queen", "rat", "sun", "top",
      "umbrella", "van", "watch", "xray", "yak", "zebra",
      "alarm", "brave", "climb", "dance", "eagle", "fancy", "giant", "horse", "island", "jelly",
      "karate", "lemon", "magic", "ninja", "ocean", "piano", "quick", "river", "super", "train",
      "unicorn", "vivid", "whale", "xenon", "yacht", "zombie",
      "ankle", "banana", "castle", "dragon", "engine", "fossil", "goblin", "hammer", "igloo", "jungle",
      "kazoo", "ladder", "mirror", "nacho", "orbit", "pirate", "quartz", "rocket", "sneeze", "tunnel",
      "update", "vacuum", "wiggle", "xylitol", "yogurt", "zephyr"
    ];

    let currentIndex = 0;
    let score = 0;

    function nextWord() {
      if (currentIndex >= vocabularyWords.length) {
        currentIndex = 0;
        shuffleWords();
      }
      document.getElementById("wordDisplay").textContent = vocabularyWords[currentIndex];
      currentIndex++;
    }

    function increaseScore() {
      score++;
      document.getElementById("scoreDisplay").textContent = "Score: " + score;
    }

    function shuffleWords() {
      for (let i = vocabularyWords.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [vocabularyWords[i], vocabularyWords[j]] = [vocabularyWords[j], vocabularyWords[i]];
      }
    }

    shuffleWords(); // Shuffle at the beginning
  </script>

  
 </script>
   </body>
 </html>  

 </body>
 </html>
